:root {
  --bg-light: #ffffff;
  --bg-dark: #121212;
  --bg-secondary: #1a1a1a;
  --text-light: #000000;
  --text-dark: #ffffff;
  --text-secondary: #333333;
  --text-hover: #87cefa;
  --link-color: #007bff;
  --link-hover: #0056b3;
}

code {
  background-color: var(--bg-light);
  padding: 0.1em 0.2em;
  border: var(--bs-border-style) var(--bs-border-width) var(--bs-border-color);
}

main section {
  scroll-margin-top: 5rem;
}

main h2 {
  margin-top: 3rem;
}

main > section > h1:first-of-type {
  margin-top: 0rem;
}

body.dark .lb-toc a.active,
body.dark .lb-toc a:hover {
  font-weight: 600;
  background-color: #606060 !important;
}

body.light .lb-toc a.active,
body.light .lb-toc a:hover {
  font-weight: 600;
  background-color: #b0abab!important;
}

@media (min-width: 768px) {
  #lb-page-toc-aside {
      position: sticky;
      top: 4rem;
      height: calc(100vh);
      overflow-y: auto;
  }
}

body {
  background-color: var(--bg-light);
  color: var(--text-light);
}

body.light {
  background-color: var(--bg-light);
  color: var(--text-light);
}

body.dark {
  background-color: var(--bg-dark);
  color: var(--text-dark) !important;
}

.navbar,
.dropdown {
  background-color: var(--bg-light);
  color: var(--text-light) !important;
}

body.light .navbar,
body.light .dropdown {
  color: #000000 !important;
}

body.dark .navbar,
body.dark .dropdown {
  background-color: var(--bg-dark) !important;
  color: var(--text-dark) !important;
}

.offcanvas-body {
  transition: background-color 0.3s ease, color 0.3s ease;
}

body.light .offcanvas-body {
  background-color: var(--bg-light) !important;
  color: var(--text-light) !important;
}

body.dark .offcanvas-body {
  background-color: var(--bg-dark) !important;
  color: var(--text-dark) !important;
}

.nav-link,
.btn-link,
.lb-page-toc-list a {
  color: inherit;
  text-decoration: none;
  transition: background-color 0.2s, color 0.2s;
}

.nav-link:hover,
.lb-page-toc-list a:hover {
  color: var(--link-hover);
}

body.light .lb-page-toc-list a {
  background-color: transparent;
}

body.light .lb-page-toc-list a:hover,
body.light .lb-page-toc-list a.active {
  background-color: #f0f0f0 !important;
  color: var(--text-light);
}

body.dark .lb-page-toc-list a {
  background-color: transparent;
  color: var(--text-dark);
}

body.dark .lb-page-toc-list a:hover,
body.dark .lb-page-toc-list a.active {
  background-color: #333333 !important;
}

.btn-link {
  color: inherit;
}

.bi {
  color: inherit;
}

body.dark .navbar {
  background-color: var(--bg-secondary);
  color: var(--text-dark);
}

body.dark .navbar .navbar-toggler,
body.dark .navbar .offcanvas-header {
  background-color: var(--bg-secondary) !important;
  color: var(--text-dark) !important;
}

body.dark .navbar .dropdown-menu {
  background-color: #2a2a2a !important;
}

body.dark .navbar .dropdown-item,
body.dark .navbar .btn-link {
  color: var(--text-dark);
}

body.dark .navbar .dropdown-item:hover {
  background-color: #333333 !important;
}

body.light .offcanvas-header {
  background-color: #f8f9fa;
  color: #000000 !important;
}

body.dark .offcanvas-header {
  background-color: #1a1a1a;
  color: #ffffff !important;
}

#lb-page-toc-aside {
  transition: background-color 0.3s ease, color 0.3s ease;
}

body.light #lb-page-toc-aside {
  background-color: #f8f9fa;
  color: #000000 !important;
}

body.dark #lb-page-toc-aside {
  background-color: #1a1a1a;
  color: #ffffff ! important;
}

.icode-container {
  transition: background-color 0.3s ease, color 0.3s ease;
}

body.light .icode-container {
  background-color: #ffffff;
  color: #000000;
}

body.dark .icode-container {
  background-color: #1a1a1a;
  color: #ffffff;
}

body.light .icode-container .card-header {
  background-color: #f8f9fa;
  color: #6c757d;
}

body.dark .icode-container .card-header {
  background-color: #121212;
  color: #b0b0b0;
}

body.light .icode-container .btn-primary {
  background-color: #007bff;
  color: #ffffff;
}

body.dark .icode-container .btn-primary {
  background-color: #0069d9;
  color: #ffffff;
}

body.light .icode-container .btn-secondary {
  background-color: #6c757d;
  color: #ffffff;
}

body.dark .icode-container .btn-secondary {
  background-color: #5a6268;
  color: #ffffff;
}

body.light .icode-container .progress {
  background-color: #e9ecef;
}

body.dark .icode-container .progress {
  background-color: #343a40;
}

body.light .icode-container .accordion-button {
  background-color: #f8f9fa;
  color: #000;
}

body.dark .icode-container .accordion-button {
  background-color: #1a1a1a;
  color: #ffffff;
}

body.light .icode-container .accordion-button:not(.collapsed) {
  background-color: #e9ecef;
}

body.dark .icode-container .accordion-button:not(.collapsed) {
  background-color: #333333;
}

body.light .accordion-item {
  background-color: #ffffff;
  color: #000000;
}

body.dark .accordion-item {
  background-color: #1a1a1a;
  color: #ffffff;
}

body.light .accordion-header {
  background-color: #f8f9fa;
  border-color: #dee2e6;
}

body.dark .accordion-header {
  background-color: #121212;
  border-color: #444444;
}

body.light .accordion-button {
  background-color: #f8f9fa;
  color: #000;
}

body.dark .accordion-button {
  background-color: #1a1a1a;
  color: #ffffff;
}

body.light .accordion-button:not(.collapsed) {
  background-color: #e2e6ea;
}

body.dark .accordion-button:not(.collapsed) {
  background-color: #333333;
}

body.dark {
  .mcq-container, .fib-container, .parsons-container, .matching-container, .hparsons-container, .badge, .bg-white, .CodeMirror-scroll, .lupbook-footer, .CodeMirror-linenumbers {
    color: white !important;
    background-color: #1e1e1e !important;
  }

  .matching-answer, .matching-choice, .parsons-frag, .parsons-answers {
    color: white !important;
    background-color: #1e1e1e !important;
  }

  .badge {
    background-color: #606060 !important;
  }
}

.btn.theme-toggle-btn {
  transition: background-color 0.3s, color 0.3s;
}

body.light .btn.theme-toggle-btn {
  background-color: #f8f9fa;
  color: #000;
}

body.dark .btn.theme-toggle-btn {
  background-color: var(--bg-secondary);
  color: var(--text-dark);
}

body.light .dropdown-menu {
  background-color: #ffffff;
  color: #000;
}

body.dark .dropdown-menu {
  background-color: var(--bg-secondary);
  color: #ffffff;
}

.dropdown-item {
  transition: background-color 0.3s, color 0.3s;
}

body.light .dropdown-item:hover {
  background-color: #f0f0f0;
}

body.dark .dropdown-item:hover {
  background-color: #444444;
}